<!--
  This file was generated by emdaer

  Its template can be found at .emdaer/docs/install.emdaer.md
-->

<!--
  emdaerHash:3f7e01d20d33584741ff96d522a1a509
-->

<h1 id="installation-img-align-right-src-logo-svg-alt-contenta-logo-title-contenta-logo-width-100-">Installation <img align="right" src="./logo.svg" alt="Contenta logo" title="Contenta logo" width="100"></h1>
<p>In order to install ContentaJS you will need to meet the following requirements:</p>
<ul>
<li><code>nodejs</code> ^8.11.1 or higher.</li>
<li>A working installation of <a href="https://github.com/contentacms/contenta_jsonapi">Contenta CMS</a>.</li>
<li>A Redis server (optional). Use the
<a href="https://github.com/contentacms/contentajsRedis">@contentacms/redis</a> module
to leverage the Redis cache back-end.</li>
</ul>
<h2 id="local-installation">Local Installation</h2>
<h3 id="install-contenta-cms">Install Contenta CMS</h3>
<p>Install Contenta CMS using <a href="http://www.contentacms.org/#install">the instructions</a>.</p>
<p>Take note of the installation URL. For instance <code>http://localhost:8888</code>.</p>
<h3 id="install-contentajs">Install ContentaJS</h3>
<p>Install the starter kit by using:</p>
<pre><code>
yarn add @contentacms/contentajs
</code></pre>
<h3 id="configure">Configure</h3>
<p>Create a local configuration file. This configuration file will contain all the
configuration that <strong>only</strong> applies to the local development box. This file
should not be checked into the repository.</p>
<pre><code>
touch config/local.yml
</code></pre>
<p>Add the URL where ContentaJS will find your Contenta CMS (Drupal) installation.
You can also add the URL of the node.js instance for CORS whitelisting if you
need to have CORS support. For instance:</p>

```yaml
cms:
  host: http://localhost:8888

cors:
  origin:
    # It's OK to use '*' in local development.
    - '*'
```
<p>It is important to note that you can override configuration per environment.
That means that your <code>config/dev.yml</code> may look like contain:</p>

```yaml
cms:
  host: http://127.0.0.1:8080/contentacms
```
<p>Learn more about configuration in the
<a href="https://www.npmjs.com/package/config">config moduleâ€™s documentation</a>.</p>
<h3 id="start-your-server">Start your server</h3>
<p>Start your server with multiple threads serving requests (one per CPU core).</p>
<pre><code>
yarn start
</code></pre>
<p>Inspect the <code>&quot;scripts&quot;</code> section in the <a href="./package.json"><code>package.json</code></a> to find
other useful scripts like <code>yarn debug</code>, <code>yarn stop</code> and <code>yarn test</code>.</p>
<h3 id="-optional-install-the-redis-server">(Optional) Install the redis server</h3>
<p>Optionally you can install the Redis server by doing <code>gem install redis</code> then
follow the setup in <a href="https://github.com/contentacms/contentajsRedis#readme"><code>@contentacms/redis</code></a>.</p>
<h2 id="aws-installation">AWS Installation</h2>
<p><em>Fill in the instructions on how to install in AWS with ElastiCache using CloudFormation or a custom AMI</em></p>
<h2 id="install-using-docker">Install Using Docker</h2>
<p><em>Fill in the instructions on how to install using Docker.</em></p>
<p><em>Ideally this installs Contenta CMS (Drupal), ContentaJS, and the Redis server.</em></p>
